import{i as w,d,a as f,h as u,u as s,b as m,v as i,c as p,e as c,s as l}from"./validation-core-Ymi8efTg.js";async function I(){const a=document.getElementById("group_name"),t=a.value.trim();if(!t||t.length===0){u("group_name"),s("group-update-button",["group_name"]);return}const e=a.dataset.currentGroupId||null;m("group_name");const n=await i("/validate/group-name",{group_name:t,current_group_id:e},"group_name");p("group_name"),n&&(n.valid?c("group_name",n.message||"✓ 利用可能なグループ名です"):l("group_name",n.message||"× このグループ名は既に使用されています")),s("group-update-button",["group_name"])}async function E(){const t=document.getElementById("username").value.trim();if(!t||t.length===0){u("username"),s("add-member-button",["username","password"]);return}m("username");const e=await i("/validate/member-username",{username:t},"username");p("username"),e&&(e.valid?c("username",e.message||"✓ 利用可能なユーザー名です"):l("username",e.message||"× このユーザー名は既に使用されています")),s("add-member-button",["username","password"])}async function y(){const t=document.getElementById("password").value;if(!t||t.length===0){u("password"),s("add-member-button",["username","password"]);return}m("password");const e=await i("/validate/member-password",{password:t},"password");p("password"),e&&(e.valid?c("password",e.message||"✓ 十分に強力なパスワードです"):l("password",e.message||"× パスワードが弱すぎます")),s("add-member-button",["username","password"])}const _=d(I,500),B=d(E,500),h=d(y,500);document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("group_name"),t=document.getElementById("group-update-form"),e=document.getElementById("group-update-button");a&&(w(["group_name"]),e&&(e.disabled=!0,e.classList.add("opacity-50","cursor-not-allowed")),a.addEventListener("input",_)),t&&t.addEventListener("submit",function(o){f(["group_name"])||(o.preventDefault(),alert("グループ名に誤りがあります。修正してください。"))});const n=document.getElementById("username"),g=document.getElementById("password"),b=document.getElementById("add-member-form"),r=document.getElementById("add-member-button");n&&g&&(w(["username","password"]),r&&(r.disabled=!0,r.classList.add("opacity-50","cursor-not-allowed")),n.addEventListener("input",B),g.addEventListener("input",h)),b&&b.addEventListener("submit",function(o){f(["username","password"])||(o.preventDefault(),alert("入力内容に誤りがあります。すべての項目を正しく入力してください。"))})});
