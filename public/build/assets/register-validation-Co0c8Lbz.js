import{i as w,d as i,a as g,s as a,h as o,b as m,v as u,c,e as r,u as d}from"./validation-core-Ymi8efTg.js";w(["username","email","password","password_confirmation"]);async function v(){const e=document.getElementById("username").value.trim();if(!e||e.length===0){o("username");return}m("username");const n=await u("/validate/username",{username:e},"username");c("username"),n&&(n.valid?r("username",n.message||"✓ 利用可能なユーザー名です"):a("username",n.message||"× このユーザー名は既に使用されています")),d("register-button",["username","password","password_confirmation"])}async function I(){const t=document.getElementById("email");if(!t)return;const e=t.value.trim();if(!e||e.length===0){o("email");return}m("email");const n=await u("/validate/email",{email:e},"email");c("email"),n&&(n.valid?r("email",n.message||"✓ 利用可能なメールアドレスです"):a("email",n.message||"× このメールアドレスは既に使用されています")),d("register-button",["username","email","password","password_confirmation"])}async function E(){const e=document.getElementById("password").value;if(!e||e.length===0){o("password");return}m("password");const n=await u("/validate/password",{password:e},"password");c("password"),n&&(n.valid?r("password",n.message||"✓ 十分に強力なパスワードです"):a("password",n.message||"× パスワードが弱すぎます")),d("register-button",["username","password","password_confirmation"])}function y(){const t=document.getElementById("password"),e=document.getElementById("password_confirmation"),n=t.value,s=e.value;if(!s||s.length===0){o("password_confirmation");return}n===s?r("password_confirmation","✓ パスワードが一致しています"):a("password_confirmation","× パスワードが一致していません"),d("register-button",["username","password","password_confirmation"])}function B(){const e=document.getElementById("timezone").value;return!e||e.length===0?(a("timezone","× タイムゾーンを選択してください"),!1):(o("timezone"),!0)}const b=i(v,500),h=i(I,500),_=i(E,500),z=i(y,500);document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("username"),e=document.getElementById("email"),n=document.getElementById("password"),s=document.getElementById("password_confirmation"),l=document.getElementById("timezone"),p=document.getElementById("register-form");t&&t.addEventListener("input",b),e&&e.addEventListener("input",h),n&&n.addEventListener("input",_),s&&s.addEventListener("input",z),l&&l.addEventListener("change",B),p&&p.addEventListener("submit",function(f){g(["username","email","password","password_confirmation"])||(f.preventDefault(),alert("入力内容に誤りがあります。すべての項目を正しく入力してください。"))})});
