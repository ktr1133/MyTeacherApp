import{i as v,d,a as I,h as m,u as n,b as o,v as r,c as u,e as i,s as l}from"./validation-core-Ymi8efTg.js";async function E(){const t=document.getElementById("group_name"),a=t.value.trim();if(!a||a.length===0){m("group_name"),n("group-update-button",["group_name"]);return}const e=t.dataset.currentGroupId||null;o("group_name");const s=await r("/validate/group-name",{group_name:a,current_group_id:e},"group_name");u("group_name"),s&&(s.valid?i("group_name",s.message||"✓ 利用可能なグループ名です"):l("group_name",s.message||"× このグループ名は既に使用されています")),n("group-update-button",["group_name"])}async function B(){const a=document.getElementById("username").value.trim();if(!a||a.length===0){m("username"),n("add-member-button",["username","password"]);return}o("username");const e=await r("/validate/member-username",{username:a},"username");u("username"),e&&(e.valid?i("username",e.message||"✓ 利用可能なユーザー名です"):l("username",e.message||"× このユーザー名は既に使用されています")),n("add-member-button",["username","email","password"])}async function _(){const a=document.getElementById("email").value.trim();if(!a||a.length===0){m("email"),n("add-member-button",["username","email","password"]);return}o("email");const e=await r("/validate/email",{email:a},"email");u("email"),e&&(e.valid?i("email",e.message||"✓ 利用可能なメールアドレスです"):l("email",e.message||"× このメールアドレスは既に使用されています")),n("add-member-button",["username","email","password"])}async function M(){const a=document.getElementById("password").value;if(!a||a.length===0){m("password"),n("add-member-button",["username","email","password"]);return}o("password");const e=await r("/validate/member-password",{password:a},"password");u("password"),e&&(e.valid?i("password",e.message||"✓ 十分に強力なパスワードです"):l("password",e.message||"× パスワードが弱すぎます")),n("add-member-button",["username","email","password"])}const h=d(E,500),L=d(B,500),V=d(_,500),S=d(M,500);document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("group_name"),a=document.getElementById("group-update-form"),e=document.getElementById("group-update-button");t&&(v(["group_name"]),e&&(e.disabled=!0,e.classList.add("opacity-50","cursor-not-allowed")),t.addEventListener("input",h)),a&&a.addEventListener("submit",function(g){I(["group_name"])||(g.preventDefault(),alert("グループ名に誤りがあります。修正してください。"))});const s=document.getElementById("username"),b=document.getElementById("email"),f=document.getElementById("password"),w=document.getElementById("add-member-form"),p=document.getElementById("add-member-button");s&&b&&f&&(v(["username","email","password"]),p&&(p.disabled=!0,p.classList.add("opacity-50","cursor-not-allowed")),s.addEventListener("input",L),b.addEventListener("input",V),f.addEventListener("input",S)),w&&w.addEventListener("submit",function(g){I(["username","email","password"])||(g.preventDefault(),alert("入力内容に誤りがあります。すべての項目を正しく入力してください。"))});const c=document.getElementById("member-added-message");c&&setTimeout(()=>{c.style.opacity="0",setTimeout(()=>{c.style.display="none"},300)},2e3)});
