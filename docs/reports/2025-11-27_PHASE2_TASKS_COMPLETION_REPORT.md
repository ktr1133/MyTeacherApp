# Phase 2 æº–å‚™å®Œäº†: ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ç§»è¡Œã‚¿ã‚¹ã‚¯å®Ÿè£…ãƒ¬ãƒãƒ¼ãƒˆ

**ä½œæˆæ—¥**: 2025-11-27  
**æ›´æ–°æ—¥**: 2025-11-27  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.2.0  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… **Phase 2 å®Ÿè¡Œæº–å‚™å®Œäº†ï¼ˆTasks 1-3 å®Œäº†ï¼‰**

---

## ğŸ“‹ å®Ÿæ–½ã‚µãƒãƒªãƒ¼

ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ç§»è¡Œè¨ˆç”»Phase 2ã®æ®‹ã‚¿ã‚¹ã‚¯ï¼ˆã‚¿ã‚¹ã‚¯1-3ï¼‰ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚

| ã‚¿ã‚¹ã‚¯ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | å®Œäº†æ—¥ |
|-------|----------|--------|
| **1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»** | âœ… å®Œäº† | 2025-11-27 |
| **2. å˜ä½“ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…** | âœ… å®Œäº† | 2025-11-27 |
| **3. CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰** | âœ… å®Œäº† | 2025-11-27 |
| **4. æœ¬ç•ªç’°å¢ƒæº–å‚™** | â³ æœªç€æ‰‹ | - |

---

## âœ… å®Œäº†å†…å®¹

### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»æ›¸ä½œæˆ

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [`2025-11-27_PHASE2_DATABASE_MIGRATION_PLAN.md`](./2025-11-27_PHASE2_DATABASE_MIGRATION_PLAN.md)

#### ä¸»è¦å†…å®¹

- **ç§»è¡Œå¯¾è±¡**: 6ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆtasks, task_images, task_tag, scheduled_group_tasks, scheduled_task_executions, scheduled_task_tagsï¼‰
- **ç§»è¡Œæˆ¦ç•¥**: ã‚¼ãƒ­ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ç§»è¡Œï¼ˆAWS DMS / PostgreSQL Logical Replicationï¼‰
- **åˆ‡ã‚Šæ›¿ãˆæ–¹å¼**: Blue/Green Deployment with Canary (5% â†’ 25% â†’ 50% â†’ 100%)
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»**: 5åˆ†ä»¥å†…ã®åˆ‡ã‚Šæˆ»ã—æ‰‹é †
- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§æ¤œè¨¼**: ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°æ¤œè¨¼ã€ãƒã‚§ãƒƒã‚¯ã‚µãƒ æ¤œè¨¼
- **å¤–éƒ¨ã‚­ãƒ¼ä¾å­˜**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã§è§£æ±ºï¼ˆREST APIçµŒç”±æ¤œè¨¼ï¼‰

#### ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

| ãƒ•ã‚§ãƒ¼ã‚º | æœŸé–“ | ã‚¿ã‚¹ã‚¯ |
|---------|------|-------|
| æº–å‚™ | 11/28-11/29 | RDSä½œæˆã€ã‚¹ã‚­ãƒ¼ãƒä½œæˆ |
| åˆæœŸã‚³ãƒ”ãƒ¼ | 11/30 æ·±å¤œ | ãƒ‡ãƒ¼ã‚¿åˆæœŸã‚³ãƒ”ãƒ¼ã€DMSé–‹å§‹ |
| ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ | 12/1-12/14 | å·®åˆ†åŒæœŸï¼ˆä¸¦è¡Œé‹ç”¨æœŸé–“ï¼‰ |
| Canaryãƒ‡ãƒ—ãƒ­ã‚¤ | 12/15 | æ®µéšçš„åˆ‡ã‚Šæ›¿ãˆ |
| æ¤œè¨¼ | 12/16 | ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§æ¤œè¨¼ |
| ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åœæ­¢ | 12/17 | DMSåœæ­¢ã€èª­ã¿å–ã‚Šå°‚ç”¨åŒ– |

---

### 2. å˜ä½“ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…

**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: `services/task-service/tests/`

#### ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆæ§‹æˆ

```text
tests/
â”œâ”€â”€ setup.js                              # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”œâ”€â”€ unit/                                 # å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆ29ãƒ†ã‚¹ãƒˆï¼‰
â”‚   â”œâ”€â”€ task.controller.test.js          # Controllerå±¤ï¼ˆ10ãƒ†ã‚¹ãƒˆï¼‰
â”‚   â”œâ”€â”€ task.service.test.js             # Serviceå±¤ï¼ˆ15ãƒ†ã‚¹ãƒˆï¼‰
â”‚   â””â”€â”€ cognitoAuth.middleware.test.js   # èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ï¼ˆ4ãƒ†ã‚¹ãƒˆï¼‰
â””â”€â”€ integration/                          # çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ11ãƒ†ã‚¹ãƒˆï¼‰
    â””â”€â”€ task.api.test.js                 # API E2Eãƒ†ã‚¹ãƒˆ
```

#### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

| ã‚«ãƒ†ã‚´ãƒª | ç›®æ¨™ | å®Ÿè£… |
|---------|------|------|
| Branches | 70% | âœ… |
| Functions | 70% | âœ… |
| Lines | 70% | âœ… |
| Statements | 70% | âœ… |

#### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
cd /home/ktr/mtdev/services/task-service
npm test -- --coverage
```

**ç·ãƒ†ã‚¹ãƒˆæ•°**: 40ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

---

### 3. CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `.github/workflows/task-service-ci-cd.yml`

#### ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹æˆ

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GitHub Actions Pipeline                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  1. Test  â”‚ â”€â”€â”€â–º â”‚  2. Build â”‚ â”€â”€â”€â–º â”‚  3. Deploy    â”‚  â”‚
â”‚  â”‚           â”‚      â”‚   Docker  â”‚      â”‚   (Blue/Green)â”‚  â”‚
â”‚  â”‚ - Lint    â”‚      â”‚   Image   â”‚      â”‚               â”‚  â”‚
â”‚  â”‚ - Unit    â”‚      â”‚ - ECR Pushâ”‚      â”‚ - Staging     â”‚  â”‚
â”‚  â”‚ - E2E     â”‚      â”‚           â”‚      â”‚ - Production  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  4. Rollback (on failure)                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶

| ã‚¤ãƒ™ãƒ³ãƒˆ | ãƒ–ãƒ©ãƒ³ãƒ | å®Ÿè¡Œå†…å®¹ |
|---------|---------|---------|
| Push | `main` | Test â†’ Build â†’ Deploy (Production) |
| Push | `develop` | Test â†’ Build â†’ Deploy (Staging) |
| Pull Request | `main`, `develop` | Test ã®ã¿ |

#### ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥

- **Staging**: é€šå¸¸ãƒ‡ãƒ—ãƒ­ã‚¤
- **Production**: Blue/Green Deployment with AWS CodeDeploy
- **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**: å¤±æ•—æ™‚ã«è‡ªå‹•çš„ã«å‰ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã¸åˆ‡ã‚Šæˆ»ã—

#### å¿…è¦ãªSecrets

- `AWS_ACCESS_KEY_ID`
- `AWS_SECRET_ACCESS_KEY`
- `TEST_JWT_TOKEN`
- `SLACK_WEBHOOK_URL`

---

## ğŸ“ ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

1. `infrastructure/reports/2025-11-27_PHASE2_DATABASE_MIGRATION_PLAN.md` - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»æ›¸

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ7ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

1. `services/task-service/jest.config.js` - Jestè¨­å®šï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸70%ç›®æ¨™ï¼‰
2. `services/task-service/tests/setup.js` - ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
3. `services/task-service/tests/unit/task.controller.test.js` - Controllerå˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆ10ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
4. `services/task-service/tests/unit/task.service.test.js` - Serviceå˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆ15ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
5. `services/task-service/tests/unit/cognitoAuth.middleware.test.js` - èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãƒ†ã‚¹ãƒˆï¼ˆ4ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
6. `services/task-service/tests/integration/task.api.test.js` - APIçµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ11ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
7. `services/task-service/tests/README.md` - ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰

**å„ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®Docã‚³ãƒ¡ãƒ³ãƒˆ**:
- âœ… `@fileoverview` - ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¦‚è¦èª¬æ˜
- âœ… `@description` - è©³ç´°ãªèª¬æ˜ï¼ˆãƒ†ã‚¹ãƒˆå¯¾è±¡ã€ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ï¼‰
- âœ… `@module` - ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å
- âœ… `@author`, `@version`, `@created`, `@updated` - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- âœ… `@testSuite`, `@testCount`, `@coverage` - ãƒ†ã‚¹ãƒˆæƒ…å ±
- âœ… `@example` - ä½¿ç”¨ä¾‹
- âœ… `@see` - é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒªãƒ³ã‚¯

### CI/CDãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ4ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

1. `.github/workflows/task-service-ci-cd.yml` - GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
2. `services/task-service/aws/appspec.yml` - CodeDeploy Blue/Greenè¨­å®š
3. `services/task-service/aws/task-definition.json` - ECSã‚¿ã‚¹ã‚¯å®šç¾©
4. `services/task-service/docs/CI-CD.md` - CI/CDã‚¬ã‚¤ãƒ‰

**åˆè¨ˆ**: 12ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå…¨ãƒ•ã‚¡ã‚¤ãƒ«Docã‚³ãƒ¡ãƒ³ãƒˆä»˜ãï¼‰

---

## ğŸ“ Docã‚³ãƒ¡ãƒ³ãƒˆä½œæˆå®Œäº†

### Docã‚³ãƒ¡ãƒ³ãƒˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«

å…¨12ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦JSDocå½¢å¼ã®Docã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚

#### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ6ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

å„ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã«ä»¥ä¸‹ã®æƒ…å ±ã‚’è¨˜è¼‰:

- **@fileoverview**: ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¦‚è¦èª¬æ˜
- **@description**: è©³ç´°ãªèª¬æ˜ï¼ˆä½¿ç”¨ç›®çš„ã€ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã€æŠ€è¡“è©³ç´°ï¼‰
- **@module**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åï¼ˆESModuleså¯¾å¿œï¼‰
- **@requires**: ä¾å­˜é–¢ä¿‚
- **@author**: ä½œæˆè€…æƒ…å ±
- **@version**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
- **@created / @updated**: ä½œæˆæ—¥ãƒ»æ›´æ–°æ—¥
- **@testSuite / @testCount / @coverage**: ãƒ†ã‚¹ãƒˆæƒ…å ±
- **@example**: ä½¿ç”¨ä¾‹ï¼ˆå®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ï¼‰
- **@see**: é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸ã®ãƒªãƒ³ã‚¯

#### CI/CDãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

- **GitHub Actions Workflow**: YAMLå½¢å¼ã®ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆç›®çš„ã€ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶ã€ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥ï¼‰
- **AppSpec YAML**: CodeDeploy Blue/Greenè¨­å®šã®ã‚³ãƒ¡ãƒ³ãƒˆ
- **Task Definition JSON**: ECS Fargateè¨­å®šã®ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆJSONå½¢å¼ã§ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ ï¼‰

#### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

- **Database Migration Plan**: Markdownå½¢å¼ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãƒ»ç›®çš„ãƒ»å¯¾è±¡ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è¨˜è¼‰

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆTask 4ï¼‰

### Phase 2: æœ¬ç•ªç’°å¢ƒæº–å‚™ã¨ãƒ‡ãƒ—ãƒ­ã‚¤å‰ãƒã‚§ãƒƒã‚¯

#### 4.1 Terraformå®Ÿè¡Œï¼ˆTask Serviceç”¨ã‚¤ãƒ³ãƒ•ãƒ©ï¼‰

```bash
cd /home/ktr/mtdev/infrastructure/terraform

# Task Serviceç”¨RDSä½œæˆ
terraform plan -target=module.task_service_db
terraform apply -target=module.task_service_db

# Task Serviceç”¨ECSä½œæˆ
terraform plan -target=module.task_service_ecs
terraform apply -target=module.task_service_ecs
```

#### 4.2 ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆAWS Secrets Managerï¼‰

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼æƒ…å ±
aws secretsmanager create-secret \
  --name task-service/db-user \
  --secret-string "task_service_user"

aws secretsmanager create-secret \
  --name task-service/db-password \
  --secret-string "<STRONG_PASSWORD>"

# Cognitoè¨­å®š
aws secretsmanager create-secret \
  --name cognito/user-pool-id \
  --secret-string "ap-northeast-1_XXXXXXXXX"
```

#### 4.3 ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼è¨­å®š

- ALBã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆ
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ‘ã‚¹: `/health`
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯é–“éš”: 30ç§’
- ç•°å¸¸é–¾å€¤: 3å›

#### 4.4 Auto Scalingè¨­å®šæ¤œè¨¼

- æœ€å°ã‚¿ã‚¹ã‚¯æ•°: 2
- æœ€å¤§ã‚¿ã‚¹ã‚¯æ•°: 10
- ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ: CPU > 70% or Memory > 85%
- ã‚¹ã‚±ãƒ¼ãƒ«ã‚¤ãƒ³: CPU < 30% for 5min

#### 4.5 ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ä½œæˆ

- CloudWatch Dashboard
- ãƒ¡ãƒˆãƒªã‚¯ã‚¹:
  - ECS CPU/Memoryä½¿ç”¨ç‡
  - RDS CPU/æ¥ç¶šæ•°
  - API ã‚¨ãƒ©ãƒ¼ç‡
  - API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ï¼ˆP50, P95, P99ï¼‰

#### 4.6 ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»æœ€çµ‚ç¢ºèª

- [ ] å‰ãƒªãƒ“ã‚¸ãƒ§ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³å®Ÿè¡Œ
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ç¢ºèª
- [ ] åˆ‡ã‚Šæˆ»ã—æ‰‹é †ã®æ–‡æ›¸åŒ–

---

## ğŸ“Š Phase 2 é€²æ—çŠ¶æ³

| ã‚¿ã‚¹ã‚¯ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | é€²æ—ç‡ |
|-------|----------|-------|
| Task Serviceå®Ÿè£… | âœ… å®Œäº† | 100% |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”» | âœ… å®Œäº† | 100% |
| å˜ä½“ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£… | âœ… å®Œäº† | 100% |
| CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰ | âœ… å®Œäº† | 100% |
| æœ¬ç•ªç’°å¢ƒæº–å‚™ | â³ æœªç€æ‰‹ | 0% |
| **Phase 2 å…¨ä½“** | â³ **é€²è¡Œä¸­** | **80%** |

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ç§»è¡Œè¨ˆç”»æ›¸](../../definitions/microservices-migration-plan.md)
- [Phase 2: Task Serviceå®Ÿè£…å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ](./2025-11-27_PHASE2_TASK_SERVICE_IMPLEMENTATION.md)
- [Phase 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»](./2025-11-27_PHASE2_DATABASE_MIGRATION_PLAN.md)
- [Task Service Testing Guide](../../services/task-service/tests/README.md)
- [Task Service CI/CD Guide](../../services/task-service/docs/CI-CD.md)

---

## âœ… æˆåŠŸåŸºæº–

### Task 1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»

- [x] 6ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç§»è¡Œæˆ¦ç•¥å®šç¾©
- [x] ã‚¼ãƒ­ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ç§»è¡Œæ‰‹é †ä½œæˆ
- [x] ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †ä½œæˆ
- [x] ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§æ¤œè¨¼æ–¹æ³•å®šç¾©

### Task 2: å˜ä½“ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆ

- [x] 40ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®Ÿè£…
- [x] ã‚«ãƒãƒ¬ãƒƒã‚¸70%é”æˆç›®æ¨™è¨­å®š
- [x] Jestè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- [x] CIçµ±åˆæº–å‚™
- [x] **Docã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ ï¼ˆ2025-11-27è¿½åŠ ï¼‰**

### Task 3: CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

- [x] GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆ
- [x] Blue/Greenãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­å®š
- [x] è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½å®Ÿè£…
- [x] Slacké€šçŸ¥çµ±åˆ
- [x] **Docã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ ï¼ˆ2025-11-27è¿½åŠ ï¼‰**

---

**æ¬¡å›ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: Task 4ï¼ˆæœ¬ç•ªç’°å¢ƒæº–å‚™ï¼‰ã¸ã®ç€æ‰‹  
**å®Ÿè¡Œäºˆå®šæ—¥**: 2025å¹´11æœˆ28æ—¥ã€œ29æ—¥  
**Phase 2é–‹å§‹äºˆå®šæ—¥**: 2025å¹´12æœˆ15æ—¥
